# PowerNavigation
![Jetpack Compose Navigation utilize power with architectural components All about navigation in Jetpack Compose](https://user-images.githubusercontent.com/92369023/172067074-bb371834-1548-4c1b-9237-6b68067edfe5.png)

Jetpack Compose Navigation utilize power with architectural components | All about navigation in Jetpack Compose

Basic navigation
Delayed automated navigation
Navigation arguments
Optional navigation arguments
Navigate for result
Navigate with MVVM
Power Navigation with MVVM(Navigation Re-Invent)
Deep Link in jetpack compose
nested navigation
Route, BackStack, Navigation APIs
Navigation Animation with Accompanist library
Multiple navigation in same page
Bottom Navigation
Drawer Navigation

Introduction	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=0s

Agenda	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=7s

Upgrade Jetpack Compose Version	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=111s

Dependency to add in gradle file	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=120s

Basic Navigation	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=125s

Delayed Automated Splash like navigation	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=283s

Navigation with arguments	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=358s

Optional Arguments	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=562s

Navigation for result	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=734s

Navigation with MVVM	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=883s

The ultimate power navigation mechanism with MVVM(Navigation Re-Invent)	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=1138s

Deep link in jetpack compose navigation	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=1385s

Nested Navigation	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=1600s

Route, BackStack, Navigation APIs	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=1745s

Navigation Animation with Accompanist library	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=2076s

Multiple navigation in same page or screen or composable	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=2185s

Bottom Navigation in jetpack compose	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=2297s

Drawer Navigation in jetpack compose	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=2419s

Medium Article about Power Navigation in Jetpack Compose	https://www.youtube.com/watch?v=3IvrxDZ9aD8&t=2539s

# Basic Navigation

https://gist.github.com/Debdutta-Panda/dc06c9ff1c8fea5f6cf41850e4093c68

https://github.com/Debdutta-Panda/PowerNavigation

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#6a65


# Delayed Automated Navigation

https://gist.github.com/Debdutta-Panda/8c4f3f35c50298482cdd73c22ec0bc50

https://github.com/Debdutta-Panda/PowerNavigation/tree/delayed_navigation

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#9400


# Navigate with arguments

https://gist.github.com/Debdutta-Panda/5d5d4a872a056a1c18f1f5ddcfb49f36

https://github.com/Debdutta-Panda/PowerNavigation/tree/navigate_with_arguments

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#08b9


# Optional Arguments

https://gist.github.com/Debdutta-Panda/83692ca3e39656bbcfac8ce0420dfb11

https://github.com/Debdutta-Panda/PowerNavigation/tree/optional_arguments

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#65c9


# Navigate for result

https://gist.github.com/Debdutta-Panda/3508c2e8b5eb28603d50d80c6c8d0640

https://github.com/Debdutta-Panda/PowerNavigation/tree/navigation_for_result

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#2c60


# Navigate with MVVM

https://gist.github.com/Debdutta-Panda/2de33ea5e2f801d37450b7f839a9b5bb

https://github.com/Debdutta-Panda/PowerNavigation/tree/navigation_with_mvvm

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#9e48


# Power Navigation mechanism with MVVM

https://gist.github.com/Debdutta-Panda/2799251343e659c9dfff305951907961

https://github.com/Debdutta-Panda/PowerNavigation/tree/navigation_with_mvvm_improved

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#601c


# Navigation Deep Link

https://gist.github.com/Debdutta-Panda/999e7576af798c212aa3118f1320b963

https://github.com/Debdutta-Panda/PowerNavigation/tree/deep_link_in_navigatioin_compose

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#1fee

https://debduttapanda.com/deeplink/


# Nested Navigation

https://gist.github.com/Debdutta-Panda/dc955edf46edf994ddf75f28c0354f67

https://github.com/Debdutta-Panda/PowerNavigation/tree/nested_navigation

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#fe07


# Route, BackStack, Navigation APIs

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#b9c1

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#1582


# Navigation Animation

https://gist.github.com/Debdutta-Panda/658f3c107370961135305e585564346f

https://github.com/Debdutta-Panda/PowerNavigation/tree/navigation_animation

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#aaba


# Multiple(Simultaneous Independent Nested Separate Navigations) on the same page

https://gist.github.com/Debdutta-Panda/8298e80013341fbde513e2280c1b5c1f

https://github.com/Debdutta-Panda/PowerNavigation/tree/multi_navigation

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#55eb


# Bottom Navigation

https://gist.github.com/Debdutta-Panda/ae836b56759b13b7e030411232c422de

https://github.com/Debdutta-Panda/PowerNavigation/tree/bottom_navigation

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#c3df


# Drawer Navigation

https://gist.github.com/Debdutta-Panda/6546f27ef6f40824d03f19ac69b79d31

https://github.com/Debdutta-Panda/PowerNavigation/tree/drawer_navigation

https://medium.com/@debduttapanda/jetpack-compose-power-navigation-ad5b0189af0d#e7c3



Jetpack Compose Power Navigation
================================

![](https://miro.medium.com/max/1400/1*XiBu1TNpRjIuLA70_ueM9A.png)

In this article, we will discuss everything about Navigation in **Jetpack Compose** and utilizing the **power** of **navigation**.

[Move to Power Directly](#601c)

Motive
======

There are some options for **_Jetpack Compose Navigation_**:

1.  **Built-In Jetpack Compose Navigation**
2.  **Compose Destination:** The author([raamcostaRafael Costa](https://github.com/raamcosta)) have created a great library. I just love it. [https://github.com/raamcosta/compose-destinations](https://github.com/raamcosta/compose-destinations)
3.  **Jetmagic:** Have a nice Navigation Manager. [https://github.com/JohannBlake/Jetmagic](https://github.com/JohannBlake/Jetmagic)
4.  **Frank’s Navigation Mechanism:** Nice Navigation Mechanism compatible with Clean Architecture and MVVM. [https://medium.com/@ffvanderlaan/navigation-in-jetpack-compose-using-viewmodel-state-3b2517c24dde](https://medium.com/@ffvanderlaan/navigation-in-jetpack-compose-using-viewmodel-state-3b2517c24dde)
5.  **Tom Seifert’s architecture:** [https://proandroiddev.com/jetpack-compose-navigation-architecture-with-viewmodels-1de467f19e1c](https://proandroiddev.com/jetpack-compose-navigation-architecture-with-viewmodels-1de467f19e1c)

Each of the above is really good. But still, I **_feel_** drawbacks in each. Let me point out:

1.  **Built-In Jetpack Compose Navigation**  
    _It is really easy and powerful._ But it is not compatible with MVVM and Clean Architecture.
2.  **Compose Destination**  
    _Fully compatible with MVVM and Clean Architecture._ But it hides each and everything from us. In the future, if some exceptional situation comes to me where I need a very special type of navigation experience then I can not do cause boilerplate codes are hidden behind `@Destination` annotation. Power is missing.
3.  **JetMagic  
    **_Really very good. Compatible with MVVM and Clean Architecture._ It basically provides a navigation manager which has some nice wrapper functions to move around destinations. Still, I am missing some power of native boilerplates.
4.  **Frank’s Navigation Mechanism  
    **_Excellent architecture. Compatible with MVVM and Clean Architecture._ But seems a little bit complex to me. Missing the power up to some extent.
5.  **Tom Seifert’s architecture  
    **I like it. It's simple and working. Compatible with MVVM and Clean Architecture. I inspired. Power is missing.

What do I mean by power?
========================

I want to have clear and easy power, flexibilities, and possibilities in Jetpack Compose Navigation ensuring Architectural Compatibility.

Let me point out some powers:

1.  **Listen** to the destination change
2.  **Traverse** the route graph
3.  **Send and receive values** along the destination path(forward and backward). Means arguments and results.
4.  **Enjoy transparent traveling**(navigate, go back) along the destination paths.
5.  Avoid unnecessary complexities.

In short, I want

1.  easy,
2.  powerful,
3.  transparent,
4.  architecturally compatible,
5.  animatable,
6.  robust,
7.  extendable

**Navigation Mechanism**.

That's why I am writing this article

Agenda
======

1.  **Introduction**
2.  **Target Audience**
3.  **_Why read this article?_**
4.  **Upgrade** Compose Version
5.  **Dependency** for navigation
6.  Implement **basic** navigation
7.  **Go back** to the previous destination
8.  Navigation with **Delay**
9.  Navigate with **Arguments**
10.  **Optional** Arguments
11.  **Multiple** required and/or optional **arguments**
12.  Navigate for **Result**(aka go back with the result)
13.  Navigate with **MVVM**
14.  **_Improve_** _navigation mechanism with MVVM_
15.  Navigation **Deep Link**(Setup and Testing)
16.  **Nested** Navigation
17.  More about the **route, back stack**, etc.
18.  Navigation **API**
19.  Navigation **Animation**
20.  **_Multiple Simultaneous Independent Nested Separate Navigations_** on the same page
21.  **Bottom Navigation**
22.  **Drawer Navigation**

Introduction
============

Navigation refers to the interactions that allow users to navigate across, into, and back out from the different pieces of content within your app.

Here we will discuss **Navigation in Jetpack Compose** in full detail.

![](https://miro.medium.com/max/1400/0*4B2rQTIlg5wn4ZGM.jpg)

Target Audience
===============

This article is a must to read **for each and every android developer**, no matter whether you are a fresher or experienced.

![](https://miro.medium.com/max/1400/0*23bbrKlF_SQif5uw.png)

Why read this article?
======================

There are tons of articles and online resources about navigation in jetpack compose. So, why read this article?

Let me convince you.

There are various aspects of navigation.

1.  Navigation **Trigger**
2.  **Delayed** navigation
3.  Transition **animation**
4.  Navigation **nesting**
5.  **Compatibility with architecture** like Clean Architecture and MVVM
6.  **_Multiple navigations on the same page_**
7.  **Bottom** navigation
8.  **Drawer** navigation
9.  Navigation **arguments**
10.  Navigation **results**
11.  Navigation **stack**
12.  **Deep Link** and many more

This Article covers everything.

So, of course, you should read this article right!

Upgrade Jetpack Compose Version
===============================

![](https://miro.medium.com/max/1400/1*FVC5rhF1LhkIrUpLDH3SHw.png)

Dependency for Navigation
=========================

Go to the module level Gradle file and add the following:

Implement Basic Navigation
==========================

![](https://miro.medium.com/max/996/1*F84e8amSSg5GqgOHfJU6yQ.gif)



Jetpack Compose Basic Navigation
--------------------------------

### There are various aspects of navigation.Navigation TriggerDelayed navigationTransition animationNavigation…

https://youtube.com/shorts/yyEhIXaYeYs

You have to declare a NavHostController

```
val navController = _rememberNavController_()
```

Then a NavHost

```
_NavHost_(navController = navController, startDestination = "page\_a"){  
    _composable_(  
        "page\_a"//route name  
    )**{** _PageA_(navController)//composable  
    **}** _composable_(  
        "page\_b"//route name  
    )**{** _PageB_(navController)//composable  
    **}  
**}
```

Inside NavHost builder block user _composable_ to specify your composable UI as page or screen or destination for navigation. Mention a route name.

Add as much composables as you need.

Pass the navController to your composable functions.

Use the navController to really navigate to any destination you have mentioned.

```
navController.navigate("page\_b")//mention which destination you want to move to
```

You can execute navigation code inside button click etc.

Go back to the previous destination
===================================

Everytime you call `navController.navigate(“route”)`, eventually you are creating a new entry in back stack.

So, you should use `**_navigateUp_**`  to go back to previous page.

Delayed automatic navigation
============================

![](https://miro.medium.com/max/996/1*7v5ketUiOk66hwRujvv09w.gif)

Often we need delayed automatic navigation. Best example is splash to home or dashboard navigation.

In this scenario, we can utilize the `LaunchedEffect`. It offers us a coroutine scope so we can have a nice `delay` and navigate mechanism.



Delayed automatic splash navigation in jetpack compose
------------------------------------------------------

### There are various aspects of navigation.Navigation TriggerDelayed navigationTransition animationNavigation…

https://youtube.com/shorts/WX0ItgSBB4M?feature=share

Navigate with arguments
=======================

![](https://miro.medium.com/max/996/1*DCtHkxkFYvyDNwu5zuF5Mw.gif)Pass arguments in jetpack compose navigation


Navigation with arguments in jetpack compose
--------------------------------------------

### Edit description

https://youtube.com/shorts/swbuAZIfMXU?feature=share

Explanation
===========

Suppose you want to pass a argument named `money`. So you have to mention this in the receiving composable.

```
_composable_(  
    "page\_b/{money}",  
    arguments = _listOf_(  
        _navArgument_("money")**{** type = NavType.IntType  
        **}** )  
)**{**backStackEntry**\->** _PageB_(navController,backStackEntry.arguments?.getInt("money"),)  
**}**
```

Notice the braces `{}` around the argument in route.

You have to mention the list of arguments with optional types. If you don't mention the type then it will be interpreted as a string.

Get the argument value from backStackEntry.

This argument is **required or mandatory**. If the sender composable doesn't provide the argument then the app will crash.

Optional Arguments
==================

![](https://miro.medium.com/max/996/1*fezRJn7XVs5F6fZ6powcHw.gif)Optional Arguments[

Optional arguments in Jetpack Compose
-------------------------------------

### There are various aspects of navigation.Navigation TriggerDelayed navigationTransition animationNavigation…

https://youtube.com/shorts/eSCs2NRQJRw?feature=share



Optional arguments are specified by query param like pattern.

`route?argument_name={argument_name}`

You have to mention a default value as well. When sender will not pass value for the optional argument, the default value will be used.

You can retrieve the optional argument value the same way as for required arguments.

Multiple required and/or optional Arguments
===========================================

![](https://miro.medium.com/max/1400/1*q-t5-2mPZ_CXMz3WK-z82A.png)Multiple arguments

Follow the above format if you want to pass multiple required and/or optional arguments. For sending and receiving you have to follow the same pattern.

Navigate for result
===================

![](https://miro.medium.com/max/996/1*VR6o-W8sTbSCEWE_oF89NQ.gif)Navigation for result



Navigation for result in jetpack compose
----------------------------------------

### There are various aspects of navigation.Navigation TriggerDelayed navigationTransition animationNavigation…

https://youtube.com/shorts/Tq41pnQa8PE

To send the result back
=======================

```
navController  
    .previousBackStackEntry  
    ?.savedStateHandle  
    ?.set(key,result)//set the result before navigate up  
navController.navigateUp()
```

To receive the result
=====================

```
navController  
    .currentBackStackEntry  
    ?.savedStateHandle  
    ?.getLiveData<your\_type>(key)  
    ?.observe(owner){  
        result = it  
    }
```

You can run this code inside button click just before the navigation or you can put the code inside launchedEffect.

There are a nicer way to observer the result from composable scope.

```
val result = navController  
    .currentBackStackEntry  
    ?.savedStateHandle  
    ?.getLiveData<your\_type>(key)?._observeAsState_()
```

To use that you have to include an extra dependency:

```
//livedata  
implementation "androidx.compose.runtime:runtime-livedata:$compose\_version"
```

Remove the result to avoid mis-understanding
============================================

You can treat the old value as the new one. So you should remove the result before you navigate for the result again.

```
navController  
    .currentBackStackEntry  
    ?.savedStateHandle  
    ?.remove<Int>(key)
```

Do that just before new navigation.

Navigate with MVVM
==================

**_Why use MVVM if I can do everything without this?????_**

Your question is genuine.

Let me convince you!

![](https://miro.medium.com/max/1400/1*2VrmYq5O08mBxUaroGldVw.gif)With vs Without MVVM

So, what you think? Which one is acceptable?

MVVM should be used due to the following reasons:

1.  UI persistency across the configuration change
2.  Stop networking call when your screen has already been destroyed
3.  UI should not be responsible for data handling
4.  Impose architecture(like Clean Architecture etc.) easily

Let’s focus on Navigation with MVVM
===================================

![](https://miro.medium.com/max/1400/1*BLSMNKK7b0YyBfHnXwcObg.gif)



Navigation with MVVM in jetpack compose #short
----------------------------------------------

### There are various aspects of navigation.Navigation TriggerDelayed navigationTransition animationNavigation…

https://youtube.com/shorts/OKWuhrRc6x0?feature=share

Let me explain
==============

First of all, we can not access `navController` from `ViewModel`.

But we can have a mutable state in ViewModel which we can change when we want and composable can track it. That time composable can call navController navigation.

But calling navigation codes in composable scope is **not good** as it will be composed every time which will lead to unpredictable behavior of the app.

We can use `LaunchedEffect`
===========================

LaunchedEffect will be triggered every time its key is changed.

So, we can initiate navigation code inside launchedEffect block from viewModel via a muatableState which will be used as the key of the launchdEffect.

```
_LaunchedEffect_(key1 = viewModel.navigationTrigger.value)**{  
    ...//navigation code will be trigerred only if the key1 changed  
}  
/////////////////////////////////////**_Button_(  
    onClick = **{** pageAViewModel.onSendClick()  
    **}**  
) **{** _Text_("Button text")  
**}  
////////////////////////////////////**class PageAViewModel: ViewModel() {  
    val navigationTrigger = _mutableStateOf_(0L)  
    fun onSendClick() {  
        navigationTrigger.value = System.currentTimeMillis()  
    }  
}
```

First,  the **button will be clicked**, which will **call the view model's onSendClick**, inside which we will **update navigationTrigger value**, which will lead **launchedEffect to execute its block code**.

That's all.

This way we can indirectly do navigation from viewModel.

_But remember that you have to reset the navigationTrigger, otherwise when you will go back, the same navigation will happen again and you will think that the navigateUp is not working._

![](https://miro.medium.com/max/1200/0*jK9svSWLuqyfrPL9.png)

Not at all. Check it's working.

The above solution seems to be very **_childish_**. But at least it's working right!

We can improve it. It's just the starting, okay!

**Improve** navigation mechanism with MVVM
==========================================

![](https://miro.medium.com/max/1400/1*7EflY-eqGTP2wxK5VuQDTg.png)The ultimate solution of navigation

So, we want to access navigation APIs inside ViewModel but it should be executed inside composable scope or its side-effects.

So, inside viewModel we will create a mutableState of a callback which will have navhostController and lifeCycleOwner.

We will put a LaunchedEffect in the composable function. The above said mutableState value will be the key. This way when viewModel will update the callback it will be executed inside LauncedEffect block.

This way viewModel can access navhostController and lifeCycleOwner but inside the LaunchedEffect block scope.

**Use someone else’s shoulder as a means to hold a rifle**

![](https://miro.medium.com/max/1204/1*uhtqSyi3jbY6fo3v6ewF3A.png)

There are _3 pillars_ in my mechanism:

1.  Navigation callback and extensions
2.  The caller(ViewModel)
3.  The executor(LaunchedEffect)

![](https://miro.medium.com/max/1400/1*cBRQdLQ887MyxzctyGpdXQ.png)Navigation Callback and Extensions![](https://miro.medium.com/max/1400/1*szOaEqFyGEJnBQFhwr1wEA.png)The executor in Composable![](https://miro.medium.com/max/1400/1*NoDUWKoO9GKD-FXG_fCS1Q.png)Callback Instance in MutableState form inside ViewModel![](https://miro.medium.com/max/1400/1*OkCBWjwx5XJOGmsJcziOig.png)Calling powerful navigation APIs inside ViewModel but in LauncedEffect scope



Navigation **Deep Link**
========================

![](https://miro.medium.com/max/1400/1*4FEDMxx84IJCXD5W-_VG1A.png)Deep Link[

About deep links
----------------

### Deep links send mobile device users directly to relevant pages in your app rather than your website. Users click on ads…

support.google.com

](https://support.google.com/google-ads/answer/10023042?hl=en)

When a clicked link or programmatic request invokes a web URI intent, the Android system tries each of the following actions, in sequential order, until the request succeeds:

1.  Open the user’s preferred app that can handle the URI, if one is designated.
2.  Open the only available app that can handle the URI.
3.  Allow the user to select an app from a dialog.

Navigation Compose supports implicit deep links that can be defined as part of the `composable()` function as well.

![](https://miro.medium.com/max/1400/1*ObHF-5C5xpRHjXFmp-CIzQ.gif)Deep Link test from terminal via adb![](https://miro.medium.com/max/972/1*ABAdIPKF5PjNSEDTt5Rvvw.gif)



Deep Link Jetpack Compose Open from browser #shorts
---------------------------------------------------

### There are various aspects of navigation.Navigation TriggerDelayed navigationTransition animationNavigation…

https://youtube.com/shorts/JgVcG77ZvwI?feature=share

Explaination
============

Mention your deep link URL pattern(s) during setting the composables to route.

```
_composable_(  
    "page\_b/{money}?bonus={bonus}",  
    arguments = _listOf_(  
        _navArgument_("money")**{** type = NavType.IntType  
        **}**,  
        _navArgument_("bonus")**{** type = NavType.IntType  
            defaultValue = 0  
        **}** ),  
    deepLinks = _listOf_(  
        _navDeepLink_ **{** uriPattern = "https://powernavigation.debduttapanda.com/{money}?bonus={bonus}"  
        **}**,  
        _navDeepLink_ **{** uriPattern = "powernavigation://powernavigation.debduttapanda.com/{money}?bonus={bonus}"  
        **}** )  
)**{**backStackEntry**\->** _PageB_(  
        navController,  
        pageBViewModel,  
        backStackEntry.arguments?.getInt("money"),  
        backStackEntry.arguments?.getInt("bonus"),  
    )  
**}**
```

In the manifest file inside your activity intent filter you have to specify the URLs and intent actions

```
<activity  
    android:name=".MainActivity"  
    android:exported="true"  
    android:label="@string/app\_name"  
    android:theme="@style/Theme.PowerNavigation">  
    <intent-filter>  
        <action android:name="android.intent.action.VIEW" />  
        <category android:name="android.intent.category.DEFAULT" />  
        <category android:name="android.intent.category.BROWSABLE" />  
        <data  
            android:scheme="https"  
            android:host="powernavigation.debduttapanda.com"  
        />  
        <data  
            android:scheme="powernavigation"  
            android:host="powernavigation.debduttapanda.com"  
            />  
  
        <action android:name="android.intent.action.MAIN" />  
        <category android:name="android.intent.category.LAUNCHER" />  
    </intent-filter>  
</activity>
```

Following is the main part for deep link.

```
<action android:name="android.intent.action.VIEW" />  
<category android:name="android.intent.category.DEFAULT" />  
<category android:name="android.intent.category.BROWSABLE" />  
<data  
    android:scheme="https"  
    android:host="powernavigation.debduttapanda.com"  
/>  
<data  
    android:scheme="powernavigation"  
    android:host="powernavigation.debduttapanda.com"  
/>
```

**Nested** Navigation
=====================

![](https://miro.medium.com/max/1400/1*6KZGaNy-bD1p7Li1xyhxSA.png)Nested Navigation![](https://miro.medium.com/max/996/1*U_u1LHDhuFBMsw7t-IXewg.gif)

Destinations can be grouped into a [nested graph](https://developer.android.com/guide/navigation/navigation-design-graph#nested_graphs) to modularize a particular flow in your app’s UI. An example of this could be a self-contained login flow.

The nested graph encapsulates its destinations. As with the root graph, a nested graph must have a destination identified as the start destination by its route. This is the destination that is navigated to when you navigate to the route associated with the nested graph.



Nested navigation in jetpack compose #shorts
--------------------------------------------

### There are various aspects of navigation.Navigation TriggerDelayed navigationTransition animationNavigation…

https://youtube.com/shorts/hTXRvhTxkY0?feature=share

Instead of `composable` use navigation to group nested navigation composables by putting the composables inside navigation block.

```
_composable_(  
    "page\_a"  
)**{** _PageA_(navController,pageAViewModel)  
**}**_  
navigation_(  
    route = "nested\_navigation",  
    startDestination = "nested\_nav\_1\_1"  
)**{** _composable_(  
        "nested\_nav\_1\_1"  
    )**{**backStackEntry**\->** _Page\_Navigation\_1\_1_(  
            navController,  
            page\_Navigation\_1\_1\_ViewModel  
        )  
    **}** _composable_(  
        "nested\_nav\_1\_2"  
    )**{**backStackEntry**\->** _Page\_Navigation\_1\_2_(  
            navController,  
            page\_Navigation\_1\_2\_ViewModel  
        )  
    **}  
}**
```

This way you can achieve nested navigation of any depth.

About the **route, back stack**
===============================

Destinations are kept in stack like things

![](https://miro.medium.com/max/1280/0*wTstHqjU_NLey3E0.gif)Stack![](https://miro.medium.com/max/1400/1*PGpUPZN4n0p96meHoGN_Tw.gif)![](https://miro.medium.com/max/1400/1*pxNcVKLUp7UzInTk_w3Naw.png)Choose the right path to the destination

When **_choosing a path from source to destination_** judge properly which is best for the situation or requirement.

popBackStack example: circular logic
====================================

![](https://miro.medium.com/max/1378/0*WOg16B76NUAyeH1s.png)

Let’s say that your app has three destinations — A, B, and C — along with actions that lead from A to B, B to C, and C back to A.

With each navigation action, a destination is added to the back stack. If you were to navigate repeatedly through this flow, your back stack would then contain multiple sets of each destination (A, B, C, A, B, C, A, and so on). To avoid this repetition, you can use popBackStack wisely, like `popBackStack(“a”,false)` which move you from destination C to destination A.

If you want to know about your current backStack then use `navHostController.backQueue` to see the stack.

Navigation APIs
===============

1.  **navigate** \= navigate to a destination mentioned by string route or deep link uri
2.  **navigateUp** \= go back to previous destination in stack. When the current destination achieve by deep link then previous will be determined by the internal logic and/or context.
3.  **popBackStack** \= remove the current destination(aka go back to previous)
4.  **popBackStack(destination,inclusive)** = clear backStack entries upto intended destination inclusive or exclusive. Useful when you jump back to far behind avoiding unnecessary multiple popBackStack for single destination clearance.
5.  **clearBackStack** \= clears any saved state associated with route that was previously saved via popBackStack when using a \`saveState\` value of \`true\`.
6.  **currentDestination** \= tells the current destination you are on.
7.  **currentBackStackEntry** \= the current back stack entry. Useful when you are expecting result from navigated destination.
8.  **previousBackStackEntry** \= the previous back stack entry. Useful when you are returning result to the destination which have navigated to current destination.
9.  **graph** \= the current graph. Useful when you want to know the firstStartDestination for bottom navigation etc.
10.  **backQueue** = the back stack queue. Useful when you want to check what are the entries in current back stack.
11.  **addOnDestinationChangedListener** \= Use to track what is the current destination. use **removeOnDestinationChangedListener** to remove the listener.
12.  **fancy DSLs** = There are fancy DSL overloads for navigate which allow you to navigate with **popBackStack** like things in lambda block. Following is the example:

```
navController.navigate("friendslist") {  
    popUpTo("home")  
}
```

Navigation **Animation**
========================

![](https://miro.medium.com/max/996/1*nz28NnLXoVtKUKXtWC_RKg.gif)Navigation Animation in Jetpack Compose with Accompanist library

In the classic androd UI we had nice transition animations. Jetpack Compose don’t support those things directly. Fortunately we have Jetpack Navigation Compose Animation.

[

Guide - Accompanist
-------------------

### A library which provides Compose Animation support for Jetpack Navigation Compose. Warning The navigation APIs are…

google.github.io

](https://google.github.io/accompanist/navigation-animation/)

Dependency
==========

```
implementation "com.google.accompanist:accompanist-navigation-animation:0.24.10-beta"
```

Use [https://search.maven.org/search?q=g:com.google.accompanist](https://search.maven.org/search?q=g:com.google.accompanist) to find the latest version or check the above mentioned home page.

Migration
=========

To migrate from using the Navigation Compose APIs do the following:

*   Replace `rememberNavController()` with `rememberAnimatedNavController()`
*   Replace `NavHost` with `AnimatedNavHost`
*   Replace `import androidx.navigation.compose.navigation` with `import com.google.accompanist.navigation.animation.navigation`
*   Replace `import androidx.navigation.compose.composable` with `import com.google.accompanist.navigation.animation.composable`

Use the following for animation or make your own

```
enterTransition = **{** slideIntoContainer(AnimatedContentScope.SlideDirection.Left, animationSpec = _tween_(700))  
**}**,  
exitTransition = **{** slideOutOfContainer(AnimatedContentScope.SlideDirection.Left, animationSpec = _tween_(700))  
**}**,  
popEnterTransition = **{** slideIntoContainer(AnimatedContentScope.SlideDirection.Right, animationSpec = _tween_(700))  
**}**,  
popExitTransition = **{** slideOutOfContainer(AnimatedContentScope.SlideDirection.Right, animationSpec = _tween_(700))  
**}**
```



**_Multiple Simultaneous Independent Nested Separate Navigations_** on the same page
====================================================================================

![](https://miro.medium.com/max/996/1*1l-zodvAXjqs59q_VxVshA.gif)Multiple navigation in same page



**Bottom Navigation**
=====================

![](https://miro.medium.com/max/996/1*cdqbwEE911d6QJkHct_u8Q.gif)Bottom Navigation in Jetpack Compose



Drawer Navigation
=================

![](https://miro.medium.com/max/996/1*7joY9_KlOvZ3RXpHdrw18w.gif)Drawer Navigation in Jetpack Compose

